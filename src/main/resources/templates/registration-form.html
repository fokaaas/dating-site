<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Create Profile</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container d-flex justify-content-center align-items-center min-vh-100 p-3">
    <div class="card bg-white bg-opacity-95 rounded-3 shadow p-3" style="width: 100%; max-width: 500px;">
        <h4 class="mb-3 text-center">Create Profile</h4>

        <form th:action="@{/users}" th:object="${user}" method="post" class="needs-validation" novalidate>
            <!-- Email -->
            <div class="mb-2">
                <label for="email" class="form-label fw-semibold">Email<span class="text-danger">*</span></label>
                <input type="email" id="email" th:field="*{email}" class="form-control form-control-sm" placeholder="Enter your email" required />
                <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Valid Email is required.</div>
            </div>

            <!-- Password -->
            <div class="mb-2">
                <label for="password" class="form-label fw-semibold">Password<span class="text-danger">*</span></label>
                <input type="password" id="password" th:field="*{password}" class="form-control form-control-sm" placeholder="Enter your password" required />
                <div class="invalid-feedback" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password is required.</div>
            </div>

            <!-- Horizontal Line -->
            <hr class="my-3">

            <!-- First Name -->
            <div class="mb-2">
                <label for="firstName" class="form-label fw-semibold">First Name<span class="text-danger">*</span></label>
                <input type="text" id="firstName" th:field="*{firstName}" class="form-control form-control-sm" placeholder="Enter your first name" required />
                <div class="invalid-feedback" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">First Name is required.</div>
            </div>

            <!-- Middle Name (Optional) -->
            <div class="mb-2">
                <label for="middleName" class="form-label fw-semibold">Middle Name</label>
                <input type="text" id="middleName" th:field="*{middleName}" class="form-control form-control-sm" placeholder="Enter your middle name (optional)" />
                <div class="invalid-feedback" th:if="${#fields.hasErrors('middleName')}" th:errors="*{middleName}">Middle Name is invalid.</div>
            </div>

            <!-- Last Name -->
            <div class="mb-2">
                <label for="lastName" class="form-label fw-semibold">Last Name<span class="text-danger">*</span></label>
                <input type="text" id="lastName" th:field="*{lastName}" class="form-control form-control-sm" placeholder="Enter your last name" required />
                <div class="invalid-feedback" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">Last Name is required.</div>
            </div>

            <!-- Gender -->
            <div class="mb-2">
                <label class="form-label fw-semibold">Gender<span class="text-danger">*</span></label>
                <div>
                    <div class="form-check form-check-inline">
                        <input type="radio" id="male" name="sex" value="Male" th:field="*{sex}" class="form-check-input" required />
                        <label for="male" class="form-check-label">Male</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input type="radio" id="female" name="sex" value="Female" th:field="*{sex}" class="form-check-input" />
                        <label for="female" class="form-check-label">Female</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input type="radio" id="other" name="sex" value="Other" th:field="*{sex}" class="form-check-input" />
                        <label for="other" class="form-check-label">Other</label>
                    </div>
                </div>
                <div class="invalid-feedback d-block" th:if="${#fields.hasErrors('sex')}" th:errors="*{sex}">Gender is required.</div>
            </div>

            <!-- Photo URL (Optional) -->
            <div class="mb-2">
                <label for="photo" class="form-label fw-semibold">Photo URL</label>
                <input type="url" id="photo" th:field="*{photo}" class="form-control form-control-sm" placeholder="https://example.com/photo.jpg" />
                <div class="invalid-feedback" th:if="${#fields.hasErrors('photo')}" th:errors="*{photo}">Invalid Photo URL.</div>
            </div>

            <!-- Place of Residence -->
            <div class="mb-2">
                <label for="residence" class="form-label fw-semibold">Place of Residence<span class="text-danger">*</span></label>
                <input type="text" id="residence" th:field="*{residence}" class="form-control form-control-sm" placeholder="Enter your place of residence" required />
                <div class="invalid-feedback" th:if="${#fields.hasErrors('residence')}" th:errors="*{residence}">Place of Residence is required.</div>
            </div>

            <!-- Phone Number and Birth Date -->
            <div class="row mb-2">
                <div class="col-md-6">
                    <label for="phoneNumber" class="form-label fw-semibold">Phone Number<span class="text-danger">*</span></label>
                    <input type="tel" id="phoneNumber" th:field="*{phoneNumber}" class="form-control form-control-sm" placeholder="+1234567890" required />
                    <div class="invalid-feedback" th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}">Valid Phone Number is required.</div>
                </div>
                <div class="col-md-6">
                    <label for="birthDate" class="form-label fw-semibold">Birth Date<span class="text-danger">*</span></label>
                    <input type="date" id="birthDate" th:field="*{birthDate}" class="form-control form-control-sm" required />
                    <div class="invalid-feedback" th:if="${#fields.hasErrors('birthDate')}" th:errors="*{birthDate}">Valid Birth Date is required.</div>
                </div>
            </div>

            <!-- About Me (Optional) -->
            <div class="mb-2">
                <label for="aboutMe" class="form-label fw-semibold">About Me</label>
                <textarea id="aboutMe" th:field="*{aboutMe}" class="form-control form-control-sm" rows="3" placeholder="Tell about yourself (optional)"></textarea>
                <div class="invalid-feedback" th:if="${#fields.hasErrors('aboutMe')}" th:errors="*{aboutMe}">Invalid information.</div>
            </div>

            <button type="submit" class="btn btn-primary w-100 mt-3">Create Profile</button>
        </form>
    </div>
</div>
<div th:replace="fragments/error-modal :: errorModal"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/form-validation.js"></script>
</body>
</html>